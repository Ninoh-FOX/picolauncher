pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

-- launcher application

#include serial.p8

apps={
    {name='splore', cmd="splore:", sprite=1},
    {name='gallery', cmd="spawnp:gallery.p8", sprite=2},
    {name='picocad', cmd="spawn:picocad", sprite=3}
    -- {name='settings', cmd="spawnp:settings.p8"}
}

select=0
function _init()
    serial_hello()
end

function _update()
    if btnp(0) then
        select=(select-1)%(#apps)
    end
    if btnp(1) then
        select=(select+1)%(#apps)
    end
    if btnp(5) then
        serial_writeline(apps[select+1].cmd)
    end
end

function _draw()
    cls(1)

    -- TODO wallpaper

    -- draw app
    cur_app=apps[select+1]
    print(cur_app.name)
    spr(cur_app.sprite, 20, 20)
end

__gfx__
00000000550005555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000500800555000000500000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000097f0055077770588bbbcc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000a777e055066860580b0bc0c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000b7d005506a7e0580bbbc0c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700500c00555066c60588b0bccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000550005555000000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
